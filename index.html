<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>강진형 🤍 김현지 결혼합니다. (v1.1.3)</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Noto+Sans+KR:wght@400;700&family=Nanum+Pen+Script:wght@400&display=swap" rel="stylesheet">
  <link rel="icon" href="images/favicon.ico" type="image/x-icon"> <!-- 파비콘 설정 -->
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f9;
      color: #555;
      overflow-x: hidden; /* 좌우 스크롤 방지 */
      text-align: center; /* 중앙 정렬을 위한 기본 설정 */
    }

    /* 스플래시 화면 스타일 */
    #splash {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.95);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      text-align: center;
      overflow: hidden;
    }

    #splash img {
      max-width: 100%;
      border-radius: 15px;
      opacity: 0;
      animation: splashFadeIn 2s ease-in-out forwards;
    }

    @keyframes splashFadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    @keyframes splashFadeOut {
      0% { opacity: 1; }
      100% { opacity: 0; }
    }

    .splash-text {
      font-family: 'Dancing Script', cursive;
      font-size: 120px;
      color: #ffffff;
      position: absolute;
      top: 3%;
      left: 50%;
      transform: translateX(-50%);
      white-space: nowrap;
      opacity: 0;
      animation: textFadeIn 4s ease-in-out forwards, textNoise 4s ease-in-out infinite;
      z-index: 10;
    }

    @keyframes textFadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    @keyframes textNoise {
      0% { transform: translateX(-50%) translateY(0) scale(1); }
      50% { transform: translateX(-50%) translateY(-5px) scale(1.02); }
      100% { transform: translateX(-50%) translateY(0) scale(1); }
    }

    .card {
      max-width: 600px;
      margin: 50px auto;
      background-color: #ffffff;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
      opacity: 0;
      transform: translateY(50px);
      transition: all 1s ease-out;
      text-align: center;
    }

    .card.show {
      opacity: 1;
      transform: translateY(0);
    }

    h2 {
      font-family: 'Dancing Script', cursive;
      font-size: 24px;
      color: #333;
      margin: 0 0 20px;
    }

    p {
      font-family: 'Nanum Pen Script', cursive;
      font-size: 27px;
      line-height: 1.6;
      margin: 0 0 20px;
    }

    .image-container img {
      width: 100%;
      border-radius: 15px;
      opacity: 0;
      transform: translateY(50px);
      transition: all 1s ease-out;
    }

    .image-container.show img {
      opacity: 1;
      transform: translateY(0);
    }

    .map-container {
      max-width: 640px;
      margin: 50px auto;
      opacity: 0;
      transform: translateY(50px);
      transition: all 1s ease-out;
    }

    .map-container.show {
      opacity: 1;
      transform: translateY(0);
    }

    @media (max-width: 768px) {
      .card, .map-container {
        margin: 20px auto;
        padding: 20px;
      }

      .splash-text {
        font-size: 80px; /* 모바일에 맞게 텍스트 크기 조정 */
      }
    }

    .map-container img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      transition: opacity 1s ease-out;
      opacity: 0;
    }

    .map-container.show img {
      opacity: 1;
    }

    .map-info {
      overflow: hidden;
      padding: 7px 11px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: 0px 0px 2px 2px;
      background-color: rgb(249, 249, 249);
      text-align: center;
    }

    .map-info a {
      color: #000;
      text-decoration: none;
    }

    .map-info img {
      display: block;
      width: 72px;
      height: auto;
      margin: 0 auto;
    }

    .map-info div {
      font-size: 11px;
    }

    .map-info span {
      width: 1px;
      margin: 0 8px;
      height: 11px;
      border-left: 1px solid #d0d0d0;
    }
  </style>
</head>
<body>
  <!-- 스플래시 화면 -->
  <div id="splash">
    <img src="images/1.jpeg?nocache=<?php echo time(); ?>" alt="스플래시 이미지">
    <div class="splash-text">
      We're getting married
    </div>
  </div>

  <!-- 본문 카드들 -->
  <div class="card">
    <div class="image-container">
      <img src="images/2.jpeg?nocache=<?php echo time(); ?>" alt="Wedding Venue">
    </div>
    <h2>강진형 & 김현지의 결혼식에 초대합니다</h2>
    <p><strong>일시:</strong> 2024년 12월 22일 (일요일) 오후 5시 30분</p>
    <p><strong>장소:</strong> 채플앳논현 라포레 홀</p>
  </div>

  <div class="card">
    <p>저희 두 사람이 손을 잡고 함께하는 이 순간,<br>
    서로의 사랑과 따뜻한 축복 속에서 새롭게 시작합니다.<br>
    귀한 걸음 하시어 저희의 새로운 출발을 함께 축복해 주세요.</p>
    <div class="image-container">
      <img src="images/3.jpeg?nocache=<?php echo time(); ?>" alt="Couple Image">
    </div>
  </div>

  <div class="card">
    <p>저녁 때 돌아갈 집이 있다는 것<br>
        힘들 때 마음속으로 생각할 사람 있다는 것<br>
        외로울 때 혼자서 부를 노래 있다는 것​<br>
        <행복>, 나태주<br></p>
    <div class="image-container">
      <img src="images/4.jpeg?nocache=<?php echo time(); ?>" alt="Happy Moment Image">
    </div>
  </div>

  <div class="card">
    <p>신랑 측 혼주: 강진형 아버지 & 강진형 어머니<br>
    신부 측 혼주: 김현지 아버지 & 김현지 어머니<br><br>
    결혼식을 통해 저희의 사랑이 더욱 깊어질 수 있도록<br>
    따뜻한 마음으로 축복해 주세요.</p>
    <div class="image-container">
      <img src="images/5.jpeg?nocache=<?php echo time(); ?>" alt="Family Image">
    </div>
  </div>

  <!-- 카카오맵 - 지도퍼가기 -->
  <div class="map-container">
    <div style="font: normal normal 400 12px/normal dotum, sans-serif; width:640px; height:392px; color:#333; position:relative">
      <div style="height: 360px;">
        <a href="https://map.kakao.com/?urlX=507690&urlY=1112676&urlLevel=2&map_type=TYPE_MAP&map_hybrid=false" target="_blank">
          <img src="http://t1.daumcdn.net/roughmap/imgmap/18f7decfff4fe799b64ede7c071c890cf70d34b4d7dd8e81006395d7e81cbecc" width="638px" height="358px" style="border:1px solid #ccc;">
        </a>
      </div>
      <div class="map-info">
        <a href="https://map.kakao.com" target="_blank">
          <img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/common/logo_kakaomap.png" alt="카카오맵">
        </a>
        <div>
          <a target="_blank" href="https://map.kakao.com/?from=roughmap&amp;srcid=1992754829&amp;confirmid=1992754829&amp;q=%EB%8D%94%EC%B1%84%ED%94%8C%EC%95%B3%EB%85%BC%ED%98%84&amp;rv=on">로드뷰</a>
          <span></span>
          <a target="_blank" href="https://map.kakao.com/?from=roughmap&amp;eName=%EB%8D%94%EC%B1%84%ED%94%8C%EC%95%B3%EB%85%BC%ED%98%84&amp;eX=507613.0&amp;eY=1112685.0">길찾기</a>
          <span></span>
          <a target="_blank" href="https://map.kakao.com?map_type=TYPE_MAP&amp;from=roughmap&amp;srcid=1992754829&amp;itemId=1992754829&amp;q=%EB%8D%94%EC%B1%84%ED%94%8C%EC%95%B3%EB%85%BC%ED%98%84&amp;urlX=507613.0&amp;urlY=1112685.0">지도 크게 보기</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const splashImage = document.querySelector("#splash img");
      splashImage.style.animation = "splashFadeIn 2s ease-in-out forwards";

      const imagesToPreload = [
        'images/2.jpeg?nocache=<?php echo time(); ?>',
        'images/3.jpeg?nocache=<?php echo time(); ?>',
        'images/4.jpeg?nocache=<?php echo time(); ?>',
        'images/5.jpeg?nocache=<?php echo time(); ?>'
      ];

      let imagesLoaded = 0;
      const totalImages = imagesToPreload.length;

      function checkIfReadyToHideSplash() {
        const minSplashTime = 3000;  // 최소 3초
        const maxSplashTime = 10000; // 최대 10초

        const splashStartTime = Date.now();
        
        // 워치독 타이머 설정 (최대 10초)
        const watchDogTimer = setTimeout(() => {
          hideSplash();
        }, maxSplashTime);

        // 이미지 로딩 후 스플래시 숨김 처리
        function hideSplash() {
          clearTimeout(watchDogTimer); // 워치독 타이머 제거

          const elapsedTime = Date.now() - splashStartTime;
          const remainingTime = minSplashTime - elapsedTime;

          // 최소 3초가 지났는지 확인
          if (remainingTime > 0) {
            setTimeout(hideSplashNow, remainingTime);
          } else {
            hideSplashNow();
          }
        }

        function hideSplashNow() {
          document.getElementById('splash').style.animation = "splashFadeOut 2s ease-in-out forwards";
          document.body.style.overflowY = 'auto'; // 스크롤 활성화
          window.scrollTo(0, 0); // 스크롤을 맨 위로 이동

          // Intersection Observer 설정
          const options = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
          };

          const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                entry.target.classList.add('show');
                observer.unobserve(entry.target); // 한번 나타나면 관찰 중지
              }
            });
          }, options);

          const cards = document.querySelectorAll('.card');
          cards.forEach(card => observer.observe(card));

          const imageContainers = document.querySelectorAll('.image-container');
          imageContainers.forEach(container => observer.observe(container));

          const mapContainer = document.querySelector('.map-container');
          observer.observe(mapContainer);
        }

        // 이미지가 모두 로드되었는지 확인
        imagesToPreload.forEach(src => {
          const img = new Image();
          img.src = src;
          img.onload = function () {
            imagesLoaded++;
            if (imagesLoaded === totalImages) {
              hideSplash();
            }
          };
        });
      }

      checkIfReadyToHideSplash();
    });
  </script>
</body>
</html>
